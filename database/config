{"scheduled_jobs":{"id":"0.5510161537293461","enabled":"1","job_name":"WATCH","job_description":"","cron":"* * * * *","last_start":"2020-04-03 10:43:08","date_created":"2020-04-03 09:31:46","workflow":"{\"wf_id\":\"20200401-1122-2861-187f-460710d7091f\",\"start_proc\":\"20200401-1122-3517-476e-662bec67c129\",\"start_proc_name\":\"mon_folder\",\"inputfile\":\"\",\"variables\":[]}","script":"var watchfolder = \"c:\\\\temp\";\n\n//start watching the watchfolder\nvar fs= require(\"fs\")\nconsole.log(\"watching\",watchfolder)\nfs.watch(watchfolder, (eventType, filename) => {\n  try {\n    var fullname = watchfolder +\"/\" + filename;\n    if (eventType == \"rename\" && fs.existsSync(fullname)) {\n      //file was created \n      console.log(\"Detected new file:\" + eventType + \" \" + fullname);\n      process.send([fullname]);//starts one job\n    }\n  } catch(err) {\n    console.error(err)\n  }\n})\n","last_pid":3600,"last_end":"2020-04-03 10:33:41"},"_id":"7JOCxsrFIOTR7Fdv"}
